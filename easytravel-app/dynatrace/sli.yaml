spec_version: '1.0'
indicators:
  throughput_svc: "metricSelector=builtin:service.requestCount.total:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  error_count: "metricSelector=builtin:service.errors.total.count:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  rt_svc_p90:     "metricSelector=builtin:service.response.time:merge(0):percentile(90)&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  rt_svc_p95:     "metricSelector=builtin:service.response.time:merge(0):percentile(95)&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  db_calls:       "metricSelector=builtin:service.dbChildCallCount:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  non_db_calls:   "metricSelector=builtin:service.nonDbChildCallCount:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  lock_time:    "metricSelector=builtin:service.lockTime:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  io_time:      "metricSelector=builtin:service.ioTime:merge(0):sum&entitySelector=tag(keptn_managed),tag(keptn_service:easytravel-app),type(SERVICE)"
  cpu_time:     "metricSelector=builtin:service.cpu.time:merge(0):sum&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_et_ex:     "metricSelector=calc:service.exceptionsbystepeasytravel:sum:merge(0,1):sum&entitySelector=tag(EasyTravel),type(SERVICE)"
  kpi_rt_home:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",1)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_recommendations:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",2)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_login:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",3)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_search:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",4)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_journey:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",5)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_select_payment:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",6)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_check_creditcard:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",7)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_submit_payment:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",8)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
  kpi_rt_finish_payment:     "metricSelector=calc:service.teststepresponsetime:filter(prefix(\"Test Step\",9)):merge(0):avg&entitySelector=tag($SERVICE),type(SERVICE)"
